"use strict";var t,r=function(){return r=Object.assign||function(t){for(var r,e=1,n=arguments.length;n>e;e++)for(var a in r=arguments[e])Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);return t},r.apply(this,arguments)};function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLocaleLowerCase()}function n(r){e(r)!==t.OBJECT&&o("params must be object")}function a(t,r){return n(t),n(r),Object.keys(r).every((function(n){var a=r[n],i=e(t[n])===a;return i||o("".concat(n," must be ").concat(a)),i}))}function o(t){throw Error(t)}"function"==typeof SuppressedError&&SuppressedError,function(t){t.NUMBER="number",t.STRING="string",t.BOOLEAN="boolean",t.OBJECT="object",t.UNDEFINED="undefined",t.NULL="null",t.SYMBOL="symbol",t.ARRAY="array",t.DATE="date",t.FUNCTION="function"}(t||(t={}));var i={isEnd:!0,decimal:4},p={isEnd:t.BOOLEAN,decimal:t.NUMBER};function E(e){if(n(e),!a(e=r(r({},i),e),r({n:t.NUMBER,pv:t.NUMBER,pmt:t.NUMBER,rate:t.NUMBER},p)))return NaN;for(var o=e.n,E=e.pmt,N=e.rate,c=e.isEnd,u=e.decimal,s=e.pv*Math.pow(1+N/100,c?o-1:o),f=1;o>=f;)s+=E*Math.pow(1+N/100,c?f-1:f),f++;return+s.toFixed(u)}function N(e){if(n(e),!a(e=r(r({},i),e),r({n:t.NUMBER,pv:t.NUMBER,fv:t.NUMBER,rate:t.NUMBER},p)))return NaN;for(var o=e.n,E=e.pv,N=e.fv,c=e.rate,u=e.isEnd,s=e.decimal,f=0,M=1;o>=M;)f+=Math.pow(1+c/100,u?M-1:M),M++;return+((N-E*Math.pow(1+c/100,u?o-1:o))/f).toFixed(s)}var c={isEualPayment:!0};exports.getFVInDFC=E,exports.getPMTInDFC=N,exports.getPVInDFC=function(e){if(n(e),!a(e=r(r({},i),e),r({n:t.NUMBER,pmt:t.NUMBER,fv:t.NUMBER,rate:t.NUMBER},p)))return NaN;for(var o=e.n,E=e.pmt,N=e.rate,c=e.isEnd,u=e.decimal,s=e.fv,f=o;f>=1;)s-=E*Math.pow(1+N/100,c?f-1:f),f--;return+(s*Math.pow(1+N/100,c?1-o:-o)).toFixed(u)},exports.getPVInPerpetuity=function(e){return n(e),a(e=r({decimal:4},e),{pmt:t.NUMBER,rate:t.NUMBER,decimal:t.NUMBER})?+(e.pmt/e.rate).toFixed(e.decimal):NaN},exports.getPmtInLoan=function(e){return n(e),a(e=r(r({},c),e),{principal:t.NUMBER,rate:t.NUMBER,period:t.NUMBER,years:t.NUMBER,isEualPayment:t.BOOLEAN})?e.isEualPayment?N({n:e.years*e.period,fv:0,pv:e.principal,rate:e.rate/e.period}):0:NaN},exports.getRateInDFC=function(e){if(n(e),!a(e=r(r({},i),e),r({n:t.NUMBER,pmt:t.NUMBER,fv:t.NUMBER,pv:t.NUMBER},p)))return NaN;for(var o=e.n,N=e.pmt,c=e.fv,u=e.pv,s=e.isEnd,f=e.decimal,M=1,d=0,B=Math.pow(10,-f),R=+((M+d)/2).toFixed(f);M>=R&&R>=d;){var m=E({n:o,pv:u,rate:100*R,pmt:N,isEnd:s,decimal:f});if(B>=Math.abs(m-c))break;c>m?d=R:M=R,R=+((M+d)/2).toFixed(f)}return+(100*R).toFixed(f)};
