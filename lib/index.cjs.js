"use strict";var r,t=function(){return t=Object.assign||function(r){for(var t,e=1,n=arguments.length;n>e;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r},t.apply(this,arguments)};function e(r){return Object.prototype.toString.call(r).slice(8,-1).toLocaleLowerCase()}function n(t){e(t)!==r.OBJECT&&a("params must be object")}function i(r,t){return n(r),n(t),Object.keys(t).every((function(n){var i=t[n],o=e(r[n])===i;return o||a("".concat(n," must be ").concat(i)),o}))}function a(r){throw Error(r)}"function"==typeof SuppressedError&&SuppressedError,function(r){r.NUMBER="number",r.STRING="string",r.BOOLEAN="boolean",r.OBJECT="object",r.UNDEFINED="undefined",r.NULL="null",r.SYMBOL="symbol",r.ARRAY="array",r.DATE="date",r.FUNCTION="function"}(r||(r={}));var o=Math.pow,u=Math.abs,c=function(r,t){return+r.toFixed(t)};function p(r){return r>0?"+":0>r?"-":""}var s=4,f={isEnd:!0,decimal:s},d={isEnd:r.BOOLEAN,decimal:r.NUMBER};function N(e){if(n(e),!i(e=t(t({},f),e),t({n:r.NUMBER,pv:r.NUMBER,pmt:r.NUMBER,rate:r.NUMBER},d)))return NaN;for(var a=e.n,u=e.pmt,c=e.isEnd,p=e.decimal,s=1+e.rate/100,N=-e.pv*o(s,a),v=1;a>=v;)N-=u*o(s,c?a-v:a-v+1),v++;return+N.toFixed(p)}function v(e){if(n(e),!i(e=t(t({},f),e),t({n:r.NUMBER,pv:r.NUMBER,fv:r.NUMBER,rate:r.NUMBER},d)))return NaN;for(var a=e.n,u=e.pv,c=e.fv,p=e.isEnd,s=e.decimal,N=1+e.rate/100,v=0,E=1;a>=E;)v+=o(N,p?a-E:a-E+1),E++;return-((u*o(N,a)+c)/v).toFixed(s)}function E(r){r=t({decimal:s},r);var e=r.rate,n=r.decimal,i=r.initCf;return r.cfList.forEach((function(r,t){i+=r*o(1+e/100,-(t+1))})),c(i,n)}var l={isEqualPayment:!0,periodPerYear:1,decimal:s},m={decimal:r.NUMBER};function B(e){if(n(e),!i(e=t(t({},l),e),t({principal:r.NUMBER,rate:r.NUMBER,periods:r.NUMBER,isEqualPayment:r.BOOLEAN},m)))return NaN;var a=e.decimal;if(e.isEqualPayment){var o=v({n:e.periods,fv:0,pv:e.principal,rate:e.rate,decimal:a});return u(o)}return c(R(e)+M(e),a)}function M(e){if(n(e),!i(e=t(t({},l),e),t({principal:r.NUMBER,rate:r.NUMBER,periods:r.NUMBER,currentPeriod:r.NUMBER,isEqualPayment:r.BOOLEAN},m)))return NaN;var a=e.periods,o=e.decimal;return c(e.isEqualPayment?B(e)-R(e):e.principal/a,o)}function R(e){if(n(e),!i(e=t(t({},l),e),t({principal:r.NUMBER,rate:r.NUMBER,periods:r.NUMBER,currentPeriod:r.NUMBER,isEqualPayment:r.BOOLEAN},m)))return NaN;var a=e.decimal,u=e.currentPeriod,p=e.rate/100;if(e.isEqualPayment){var s=o(1+p,e.periods);return c(e.principal*p*(s-o(1+p,u-1))/(s-1),a)}return c((e.principal-(u-1)*M(e))*p,a)}var U={"0.0":{"0.00":.5,.01:.50399,.02:.50798,.03:.51197,.04:.51595,.05:.51994,.06:.52392,.07:.5279,.08:.53188,.09:.53586},.1:{"0.00":.53983,.01:.5438,.02:.54776,.03:.55172,.04:.55567,.05:.55962,.06:.5636,.07:.56749,.08:.57142,.09:.57535},.2:{"0.00":.57926,.01:.58317,.02:.58706,.03:.59095,.04:.59483,.05:.59871,.06:.60257,.07:.60642,.08:.61026,.09:.61409},.3:{"0.00":.61791,.01:.62172,.02:.62552,.03:.6293,.04:.63307,.05:.63683,.06:.64058,.07:.64431,.08:.64803,.09:.65173},.4:{"0.00":.65542,.01:.6591,.02:.66276,.03:.6664,.04:.67003,.05:.67364,.06:.67724,.07:.68082,.08:.68439,.09:.68793},.5:{"0.00":.69146,.01:.69497,.02:.69847,.03:.70194,.04:.7054,.05:.70884,.06:.71226,.07:.71566,.08:.71904,.09:.7224},.6:{"0.00":.72575,.01:.72907,.02:.73237,.3:.73565,.04:.73891,.05:.74215,.06:.74537,.07:.74857,.08:.75175,.09:.7549},.7:{"0.00":.75804,.01:.76115,.02:.76424,.03:.7673,.04:.77035,.05:.77337,.06:.77637,.07:.77935,.08:.7823,.09:.78524},.8:{"0.00":.78814,.01:.79103,.02:.79389,.03:.79673,.04:.79955,.05:.80234,.6:.80511,.07:.80785,.08:.81057,.09:.81327},.9:{"0.00":.81594,.01:.81859,.02:.82121,.03:.82381,.04:.82639,.05:.82894,.06:.83147,.07:.83398,.08:.83646,.09:.83891},"1.0":{"0.00":.84134,.01:.84375,.02:.84614,.03:.84849,.04:.85083,.05:.85314,.06:.85543,.07:.85769,.08:.85993,.09:.86214},1.1:{"0.00":.86433,.01:.8665,.02:.86864,.03:.87076,.04:.87286,.05:.87493,.06:.87698,.07:.879,.08:.881,.09:.88298},1.2:{"0.00":.88493,.01:.88686,.02:.88877,.03:.89065,.04:.89251,.05:.89435,.06:.89617,.07:.89796,.08:.89973,.09:.90147},1.3:{"0.00":.9032,.01:.9049,.02:.90658,.03:.90824,.04:.90988,.05:.91149,.06:.91308,.07:.91466,.08:.91621,.09:.91774},1.4:{"0.00":.91924,.01:.92073,.02:.9222,.03:.92364,.04:.92507,.05:.92647,.06:.92785,.07:.92922,.08:.93056,.09:.93189},1.5:{"0.00":.93319,.01:.93448,.02:.93574,.03:.93699,.04:.93822,.05:.93943,.06:.94062,.07:.94179,.08:.94295,.09:.94408},1.6:{"0.00":.9452,.01:.9463,.02:.94738,.03:.94845,.04:.9495,.05:.95053,.06:.95154,.07:.95254,.08:.95352,.09:.95449},1.7:{"0.00":.95543,.01:.95637,.02:.95728,.03:.95818,.04:.95907,.05:.95994,.06:.9608,.07:.96164,.08:.96246,.09:.96327},1.8:{"0.00":.96407,.01:.96485,.02:.96562,.03:.96638,.04:.96712,.05:.96784,.06:.96856,.07:.96926,.08:.96995,.09:.97062},1.9:{"0.00":.97128,.01:.97193,.02:.97257,.03:.9732,.04:.97381,.05:.97441,.06:.975,.07:.97558,.08:.97615,.09:.9767},"2.0":{"0.00":.97725,.01:.97778,.02:.97831,.03:.97882,.04:.97932,.05:.97982,.06:.9803,.07:.98077,.08:.98124,.09:.98169},2.1:{"0.00":.98214,.01:.98257,.02:.983,.03:.98341,.04:.98382,.05:.98422,.06:.98461,.07:.985,.08:.98537,.09:.98574},2.2:{"0.00":.9861,.01:.98645,.02:.98679,.03:.98713,.04:.98745,.05:.98778,.06:.98809,.07:.9884,.08:.9887,.09:.98899},2.3:{"0.00":.98928,.01:.98956,.02:.98983,.03:.9901,.04:.99036,.05:.99061,.06:.99086,.07:.99111,.08:.99134,.09:.99158},2.4:{"0.00":.9918,.01:.99202,.02:.99224,.03:.99245,.04:.99266,.05:.99286,.06:.99305,.07:.99324,.08:.99343,.09:.99361},2.5:{"0.00":.99379,.01:.99396,.02:.99413,.03:.9943,.04:.99446,.05:.99461,.06:.99477,.07:.99506,.08:.99492,.09:.9952},2.6:{"0.00":.99534,.01:.99547,.02:.9956,.03:.99573,.04:.99585,.05:.99598,.06:.99609,.07:.99621,.08:.99632,.09:.99643},2.7:{"0.00":.99653,.01:.99664,.02:.99674,.03:.99683,.04:.99693,.05:.99702,.06:.99711,.07:.9972,.08:.99728,.09:.99736},2.8:{"0.00":.99744,.01:.99752,.02:.9976,.03:.99767,.04:.99774,.05:.99781,.06:.99788,.07:.99795,.08:.99801,.09:.99807},2.9:{"0.00":.99813,.01:.99819,.02:.99825,.03:.99831,.04:.99836,.05:.99841,.06:.99846,.07:.99851,.08:.99856,.09:.99861},"3.0":{"0.00":.99865,.01:.99869,.02:.99874,.03:.99878,.04:.99882,.05:.99886,.06:.99889,.07:.99893,.08:.99896,.09:.999},3.1:{"0.00":.99903,.01:.99906,.02:.9991,.03:.99913,.04:.99916,.05:.99918,.06:.99921,.07:.99924,.08:.99926,.09:.99929},3.2:{"0.00":.99931,.01:.99934,.02:.99936,.03:.99938,.04:.9994,.05:.99942,.06:.99944,.07:.99946,.08:.99948,.09:.9995},3.3:{"0.00":.99952,.01:.99953,.02:.99955,.03:.99957,.04:.99958,.05:.9996,.06:.99961,.07:.99962,.08:.99964,.09:.99965},3.4:{"0.00":.99966,.01:.99968,.02:.99969,.03:.9997,.04:.99971,.05:.99972,.06:.99973,.07:.99974,.08:.99975,.09:.99976},3.5:{"0.00":.99977,.01:.99978,.02:.99978,.03:.99979,.04:.9998,.05:.99981,.06:.99981,.07:.99982,.08:.99983,.09:.99983},3.6:{"0.00":.99984,.01:.99985,.02:.99985,.03:.99986,.04:.99986,.05:.99987,.06:.99987,.07:.99988,.08:.99988,.09:.99989},3.7:{"0.00":.99989,.01:.9999,.02:.9999,.03:.9999,.04:.99991,.05:.99991,.06:.99992,.07:.99992,.08:.99992,.09:.99992},3.8:{"0.00":.99993,.01:.99993,.02:.99993,.03:.99994,.04:.99994,.05:.99994,.06:.99994,.07:.99995,.08:.99995,.09:.99995},3.9:{"0.00":.99995,.01:.99995,.02:.99996,.03:.99996,.04:.99996,.05:.99996,.06:.99996,.07:.99996,.08:.99997,.09:.99997},"4.0":{"0.00":.99997,.01:.99997,.02:.99997,.03:.99997,.04:.99997,.05:.99997,.06:.99998,.07:.99998,.08:.99998,.09:.99998}};function O(r,t){void 0===t&&(t=s);var e=r.reduce((function(r,t){return r+ +t}),0);return c(e/r.length,t)}function x(r,t){return t=void 0===t?O(r):t,r.reduce((function(r,e){return r+Math.pow(+e-Number(t),2)}),0)}exports.fvInDfc=N,exports.interestInLoan=R,exports.irr=function(r){var e=(r=t({decimal:s},r)).cfList,n=r.decimal,i=p(r.initCf);if(e.every((function(r){return p(r)===i})))return[];for(var a=c(o(10,-n),n),f=0,d=[];100>=f;){var N=E(t(t({},r),{rate:f}));u(N)>a||d.push(f),f=c(f+a,n)}return d},exports.mean=O,exports.npv=E,exports.pmtInDfc=v,exports.pmtInloan=B,exports.principalInLoan=M,exports.pvInDfc=function(e){if(n(e),!i(e=t(t({},f),e),t({n:r.NUMBER,pmt:r.NUMBER,fv:r.NUMBER,rate:r.NUMBER},d)))return NaN;for(var a=e.n,u=e.pmt,c=e.isEnd,p=e.decimal,s=1+e.rate/100,N=-e.fv*o(s,-a),v=1;a>=v;)N-=u*o(s,c?-v:1-v),v++;return+N.toFixed(p)},exports.rateInDfc=function(e){if(n(e),!i(e=t(t({},f),e),t({n:r.NUMBER,pmt:r.NUMBER,fv:r.NUMBER,pv:r.NUMBER},d)))return NaN;for(var a=e.n,c=e.pmt,p=e.fv,s=e.pv,v=e.isEnd,E=e.decimal,l=0,m=100,B=o(10,1-E),M=+((l+m)/2).toFixed(E);m>=M&&M>=l;){var R=N({n:a,pv:s,rate:M,pmt:c,isEnd:v,decimal:E});if(u(R-p)<=B)break;u(R)>u(p)?m=M:l=M,M=+((l+m)/2).toFixed(E)}return M},exports.repaymentScheduleInLoan=function(e){if(!i(e=t(t({},l),e),t({principal:r.NUMBER,rate:r.NUMBER,periods:r.NUMBER,isEqualPayment:r.BOOLEAN},m)))return[];for(var n=e.periods,a=e.decimal,o=[],u=1;n>=u;u++){var p=t(t({},e),{currentPeriod:u}),s=M(p),f=R(p),d=c(s+f,a);o.push({currentPeriod:u,principal:s,interest:f,repayment:d})}return o},exports.semiDeviation=function(r,t,e){void 0===e&&(e=s);var n=x(r,t);return c(Math.sqrt(n/(r.length-1)),e)},exports.stdDeviation=function(r,t){void 0===t&&(t=s);var e=x(r);return c(Math.sqrt(e/r.length),t)},exports.stdDeviationOfSample=function(r,t){void 0===t&&(t=s);var e=x(r);return c(Math.sqrt(e/(r.length-1)),t)},exports.stdNormalDistributionValue=function(r){var t;if(!/^(\+|-)?\d+(\.\d+)?$/.test(r))return NaN;var e=U,n=Object.keys(e).sort((function(r,t){return+t-+r}))[0];if(+r>+n||-n>+r)return c(+e[n][.09]+1e-5,5);var i=(r=Number(r).toFixed(2)).match(/([+|-]?\d+\.\d)(\d)/);if(i){var a=i[1],o=null===(t=e[Math.abs(+a)])||void 0===t?void 0:t["0.0".concat(i[2])];return 0>Number(a)?c(1-o,5):o}return NaN},exports.totalInterestInLoan=function(e){if(!i(e=t(t({},l),e),t({principal:r.NUMBER,rate:r.NUMBER,periods:r.NUMBER,isEqualPayment:r.BOOLEAN},m)))return NaN;var n=e.periods,a=e.decimal,o=e.principal,u=e.rate/100;return c(e.isEqualPayment?n*B(e)-o:(n+1)*o*u/2,a)},exports.variance=function(r,t){void 0===t&&(t=s);var e=x(r);return c(e/r.length,t)},exports.varianceOfSample=function(r,t){void 0===t&&(t=s);var e=x(r);return c(e/(r.length-1),t)};
