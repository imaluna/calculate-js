"use strict";var r,e=function(){return e=Object.assign||function(r){for(var e,t=1,n=arguments.length;n>t;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},e.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,function(r){r.NUMBER="number",r.STRING="string",r.BOOLEAN="boolean",r.OBJECT="object",r.UNDEFINED="undefined",r.NULL="null",r.SYMBOL="symbol",r.ARRAY="array",r.DATE="date",r.FUNCTION="function"}(r||(r={}));var t=Math.pow,n=Math.abs,a=function(r,e){return+r.toFixed(e)};function i(r){return r>0?"+":0>r?"-":""}var o=4,p={isEnd:!0,decimal:o};function u(r){r=e(e({},p),r);for(var n=r.n,a=r.pmt,i=r.isEnd,o=r.decimal,u=1+r.rate/100,c=-r.pv*t(u,n),s=1;n>=s;)c-=a*t(u,i?n-s:n-s+1),s++;return+c.toFixed(o)}function c(r){r=e(e({},p),r);for(var n=r.n,a=r.pv,i=r.fv,o=r.isEnd,u=r.decimal,c=1+r.rate/100,s=0,f=1;n>=f;)s+=t(c,o?n-f:n-f+1),f++;return-((a*t(c,n)+i)/s).toFixed(u)}function s(r){r=e({decimal:o},r);var n=r.rate,i=r.decimal,p=r.initCf;return r.cfList.forEach((function(r,e){p+=r*t(1+n/100,-(e+1))})),a(p,i)}var f={isEqualPayment:!0,periodPerYear:1},d=4;function l(r){var t=(r=e(e({},f),r)).periodPerYear;if(r.isEqualPayment){var i=c({n:r.years*t,fv:0,pv:r.principal,rate:r.rate/t});return n(i)}return console.log(P(r),"-getInterestPerPeriod-"),console.log(v(r),"-getPrincipalPerPeriod-"),a(P(r)+v(r),d)}function v(r){var t=(r=e(e({},f),r)).years*r.periodPerYear;return a(r.isEqualPayment?l(r)-P(r):r.principal/t,d)}function P(r){r=e(e({},f),r);var n=r.periodPerYear,i=r.current,o=r.rate/n/100;if(r.isEqualPayment){var p=t(1+o,r.years*n);return a(r.principal*o*(p-t(1+o,i-1))/(p-1),d)}return a((r.principal-(i-1)*v(r))*o,d)}exports.getFVInDFC=u,exports.getIRR=function(r){var p=(r=e({decimal:o},r)).cfList,u=r.decimal,c=i(r.initCf);if(p.every((function(r){return i(r)===c})))return[];for(var f=a(t(10,-u),u),d=0,l=[];100>=d;){var v=s(e(e({},r),{rate:d}));n(v)>f||(console.log({_npv:v}),l.push(d)),d=a(d+f,u)}return l},exports.getInterestPerPeriod=P,exports.getNPV=s,exports.getPMTInDFC=c,exports.getPVInDFC=function(r){for(var n=(r=e(e({},p),r)).n,a=r.pmt,i=r.isEnd,o=r.decimal,u=1+r.rate/100,c=-r.fv*t(u,-n),s=1;n>=s;)c-=a*t(u,i?-s:1-s),s++;return+c.toFixed(o)},exports.getPaymentPerPeriod=l,exports.getPrincipalPerPeriod=v,exports.getRateInDFC=function(r){for(var a=(r=e(e({},p),r)).n,i=r.pmt,o=r.fv,c=r.pv,s=r.isEnd,f=r.decimal,d=0,l=100,v=t(10,1-f),P=+((d+l)/2).toFixed(f);l>=P&&P>=d;){var m=u({n:a,pv:c,rate:P,pmt:i,isEnd:s,decimal:f});if(n(m-o)<=v)break;n(m)>n(o)?l=P:d=P,P=+((d+l)/2).toFixed(f)}return P},exports.paymentListInLoan=function(r){for(var t=(r=e(e({},f),r)).years*r.periodPerYear,n=[],i=1;t>=i;i++){var o=e(e({},r),{current:i}),p=v(o),u=P(o),c=a(p+u,d);n.push({current:i,principal:p,interest:u,payment:c})}return n},exports.totalInterestInLoan=function(r){var t=(r=e(e({},f),r)).principal,n=r.rate,i=r.periodPerYear,o=r.years*i;return a(r.isEqualPayment?o*l(r)-t:(o+1)*t*(n/i/100)/2,d)};
